<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>yng.joach â¤ï¸</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<style>
* { box-sizing: border-box; margin:0; padding:0; }
body {
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #ff2e63, #ff9a9e);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    overflow-x: hidden;
    color: white;
}
.container {
    text-align: center;
    padding: 25px;
    width: 90%;
    max-width: 400px;
    background: rgba(255,255,255,0.1);
    border-radius: 20px;
}
input {
    padding: 12px;
    border-radius: 25px;
    border: none;
    width: 80%;
    font-size: 1em;
    margin: 10px 0;
    text-align: center;
}
button, a {
    margin: 10px 5px;
    padding: 12px 25px;
    border-radius: 25px;
    border: none;
    cursor: pointer;
    text-decoration: none;
    font-size: 1em;
    display: inline-block;
}
.primary { background: #ff1f6d; color: white; }
.secondary { background: white; color: #ff1f6d; }
.hidden { display: none; }
.error { color: #ffe3e3; margin-top:10px; font-size:0.9em; }
video { width: 100%; max-width: 320px; border-radius: 20px; margin-bottom: 10px; }
iframe { width: 100%; max-width: 320px; height: 180px; border-radius: 15px; border:none; margin-top:10px; }
.heart { position:absolute; top:-20px; animation: fall linear forwards; pointer-events:none; font-size:20px; }
@keyframes fall { to { transform: translateY(110vh); opacity:0; } }
</style>
</head>
<body>

<!-- ETAPE 1 -->
<div class="container" id="step1">
    <h2>ğŸ’– Qui es-tu ?</h2>
    <input id="nameInput" placeholder="PrÃ©nom">
    <br>
    <button id="next1" class="primary">Continuer</button>
    <p id="error1" class="error"></p>
</div>

<!-- ETAPE 2 -->
<div class="container hidden" id="step2">
    <h2>ğŸ˜ Question importante</h2>
    <p>Câ€™est qui ton Valentin ?</p>
    <input id="valentinInput" placeholder="PrÃ©nom du Valentin">
    <br>
    <button id="next2" class="primary">Valider</button>
    <button id="back1" class="secondary">â¬… Retour</button>
    <p id="error2" class="error"></p>
</div>

<!-- ETAPE 3 -->
<div class="container hidden" id="step3">
    <h2>ğŸ’˜ Mlle Calixta ğŸ’˜</h2>
    <p>Veux-tu Ãªtre ma Valentine ? ğŸ¥°</p>
    <button id="yes" class="primary">Oui ğŸ’•</button>
    <button id="no" class="secondary">Non ğŸ™ƒ</button>
    <br>
    <button id="back2" class="secondary">â¬… Retour</button>
</div>

<!-- FINAL -->
<div class="container hidden" id="final">
    <h2>ğŸ±â¤ï¸ Surprise !</h2>
    <video autoplay loop playsinline muted>
        <source src="https://cdn.pixabay.com/video/2022/03/25/111846-692351202_large.mp4" type="video/mp4">
    </video>
    <p style="font-size:1.2em;">Merci ma Lady, je tâ€™aime de tout mon cÅ“ur â¤ï¸</p>
    <iframe id="musicFrame" class="hidden" 
        src="https://www.youtube.com/embed/7Ai7IrxO7Hg?autoplay=1&mute=0" 
        allow="autoplay; encrypted-media" 
        allowfullscreen>
    </iframe>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const step1 = document.getElementById("step1");
    const step2 = document.getElementById("step2");
    const step3 = document.getElementById("step3");
    const finalStep = document.getElementById("final");
    const musicFrame = document.getElementById("musicFrame");

    // ETAPE 1
    next1.onclick = () => {
        const name = nameInput.value.trim().toLowerCase();
        error1.textContent = "";
        if(name === "calixta"){
            step1.classList.add("hidden");
            step2.classList.remove("hidden");
        } else {
            error1.textContent = "âŒ Erreur sur la Valentine";
        }
    };

    // ETAPE 2
    next2.onclick = () => {
        const val = valentinInput.value.trim().toLowerCase();
        error2.textContent = "";
        if(["joachim","joachin","joao"].includes(val)){
            step2.classList.add("hidden");
            step3.classList.remove("hidden");
        } else {
            error2.textContent = "ğŸ˜… Mauvaise rÃ©ponseâ€¦";
        }
    };

    back1.onclick = () => { step2.classList.add("hidden"); step1.classList.remove("hidden"); };
    back2.onclick = () => { step3.classList.add("hidden"); step2.classList.remove("hidden"); };

    // NON qui fuit (mobile + desktop)
    const moveNo = () => {
        no.style.transform = `translate(${Math.random()*150-75}px,${Math.random()*80-40}px)`;
    };
    no.addEventListener("touchstart", moveNo);
    no.addEventListener("mouseover", moveNo);

    // OUI â†’ FINAL + musique intÃ©grÃ©e
    yes.onclick = () => {
        step3.classList.add("hidden");
        finalStep.classList.remove("hidden");
        musicFrame.classList.remove("hidden");

        // cÅ“urs animÃ©s
        setInterval(()=>{
            const h=document.createElement("div");
            h.className="heart";
            h.textContent="â¤ï¸";
            h.style.left=Math.random()*100+"vw";
            h.style.fontSize=Math.random()*15+15+"px";
            h.style.animationDuration=Math.random()*2+3+"s";
            document.body.appendChild(h);
            setTimeout(()=>h.remove(),5000);
        },300);
    };
});
</script>

</body>
</html>
